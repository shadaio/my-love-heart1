<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç»™è‚æ¢¦é›¯çš„çˆ±å¿ƒåŠ¨ç”»</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: 'Microsoft YaHei', sans-serif;
            min-height: 100vh;
            overflow: hidden;
            cursor: pointer;
            position: relative;
            touch-action: manipulation;
        }
        
        .title {
            position: absolute;
            top: 20px;
            left: 0;
            width: 100%;
            text-align: center;
            color: white;
            font-size: 2em;
            text-shadow: 0 0 20px rgba(255, 105, 180, 0.8);
            z-index: 100;
            animation: glow 2s ease-in-out infinite alternate;
            padding: 0 20px;
        }
        
        .name-title {
            position: absolute;
            top: 60px;
            left: 0;
            width: 100%;
            text-align: center;
            color: #ffeb3b;
            font-size: 1.8em;
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.8);
            z-index: 100;
            animation: nameGlow 3s ease-in-out infinite alternate;
        }
        
        .love-message {
            position: absolute;
            color: white;
            font-size: 1.2em;
            text-shadow: 0 0 10px rgba(255, 105, 180, 0.8);
            z-index: 99;
            pointer-events: none;
            animation: messageFloat 8s ease-in-out forwards;
            text-align: center;
            font-weight: bold;
        }
        
        .subtitle {
            position: absolute;
            top: 100px;
            left: 0;
            width: 100%;
            text-align: center;
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.9em;
            z-index: 100;
            padding: 0 20px;
        }
        
        .instructions {
            position: absolute;
            bottom: 20px;
            left: 0;
            width: 100%;
            text-align: center;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.8em;
            z-index: 100;
            padding: 0 15px;
        }

        /* ä¿®å¤çˆ±å¿ƒæ ·å¼ */
        .heart {
            position: absolute;
            pointer-events: none;
            z-index: 10;
            width: var(--size);
            height: var(--size);
            transform-origin: center;
        }
        
        .heart::before,
        .heart::after {
            content: '';
            position: absolute;
            width: calc(var(--size) * 0.5);
            height: calc(var(--size) * 0.8);
            background: var(--color);
            border-radius: calc(var(--size) * 0.5) calc(var(--size) * 0.5) 0 0;
        }
        
        .heart::before {
            left: calc(var(--size) * 0.5);
            transform: rotate(-45deg);
            transform-origin: 0 100%;
        }
        
        .heart::after {
            left: 0;
            transform: rotate(45deg);
            transform-origin: 100% 100%;
        }
        
        /* çˆ±å¿ƒåŠ¨ç”» */
        @keyframes float {
            0% {
                transform: translateY(0) rotate(0deg) scale(0);
                opacity: 1;
            }
            50% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg) scale(1.5);
                opacity: 0;
            }
        }
        
        @keyframes burst {
            0% {
                transform: translate(0, 0) scale(0) rotate(0deg);
                opacity: 1;
            }
            50% {
                opacity: 0.8;
            }
            100% {
                transform: translate(var(--burst-x), var(--burst-y)) scale(2) rotate(180deg);
                opacity: 0;
            }
        }
        
        @keyframes spiral {
            0% {
                transform: translate(0, 0) scale(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translate(var(--spiral-x), -100px) scale(1.5) rotate(720deg);
                opacity: 0;
            }
        }
        
        @keyframes glow {
            from {
                text-shadow: 0 0 20px rgba(255, 105, 180, 0.8);
            }
            to {
                text-shadow: 0 0 30px rgba(255, 20, 147, 0.9), 
                           0 0 40px rgba(255, 105, 180, 0.6);
            }
        }
        
        @keyframes nameGlow {
            from {
                text-shadow: 0 0 15px rgba(255, 215, 0, 0.8),
                           0 0 25px rgba(255, 165, 0, 0.6);
            }
            to {
                text-shadow: 0 0 25px rgba(255, 215, 0, 1),
                           0 0 35px rgba(255, 165, 0, 0.8),
                           0 0 45px rgba(255, 140, 0, 0.6);
            }
        }
        
        @keyframes messageFloat {
            0% {
                transform: translateY(0) scale(0.8);
                opacity: 0;
            }
            20% {
                opacity: 1;
                transform: translateY(-20px) scale(1);
            }
            80% {
                opacity: 1;
                transform: translateY(-80px) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-120px) scale(0.8);
            }
        }
        
        /* èƒŒæ™¯è£…é¥°çˆ±å¿ƒ */
        .bg-heart {
            position: absolute;
            opacity: 0.1;
            animation: float-bg 20s linear infinite;
        }
        
        @keyframes float-bg {
            0% {
                transform: translateY(100vh) rotate(0deg);
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
            }
        }
        
        /* æ§åˆ¶é¢æ¿ - æ‰‹æœºç«¯ä¼˜åŒ– */
        .controls {
            position: fixed;
            top: 10px;
            right: 10px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(15px);
            padding: 12px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transform: scale(0.9);
            transform-origin: top right;
            transition: all 0.3s ease;
            max-width: 160px;
        }
        
        .controls:hover {
            transform: scale(1);
            background: rgba(255, 255, 255, 0.2);
        }
        
        .control-group {
            margin-bottom: 8px;
        }
        
        .control-group label {
            display: block;
            color: white;
            margin-bottom: 4px;
            font-size: 11px;
            font-weight: bold;
        }
        
        .control-group input[type="range"] {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: rgba(255, 255, 255, 0.3);
            outline: none;
            -webkit-appearance: none;
        }
        
        .control-group input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #ff6b9d;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
        }
        
        .control-group select {
            width: 100%;
            padding: 6px 8px;
            border-radius: 10px;
            border: none;
            background: rgba(255, 255, 255, 0.9);
            font-size: 11px;
            outline: none;
        }
        
        .stats {
            color: white;
            font-size: 10px;
            margin-top: 8px;
            text-align: center;
            opacity: 0.8;
        }
        
        /* éŸ³ä¹æ’­æ”¾å™¨ - æ‰‹æœºç«¯ä¼˜åŒ– */
        .music-player {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }
        
        .music-btn {
            background: rgba(255, 107, 157, 0.9);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2em;
            box-shadow: 0 4px 15px rgba(255, 107, 157, 0.4);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
        }
        
        .music-btn:hover {
            transform: scale(1.1);
            background: rgba(255, 107, 157, 1);
        }
        
        .music-btn.playing {
            background: #4CAF50;
            animation: pulse 1s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        /* æŠ˜å æ§åˆ¶é¢æ¿ */
        .controls-toggle {
            position: fixed;
            top: 15px;
            right: 15px;
            z-index: 1001;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 8px 12px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 12px;
            backdrop-filter: blur(10px);
            display: none;
        }
        
        /* æ‰‹æœºç«¯å“åº”å¼ */
        @media (max-width: 768px) {
            .title {
                font-size: 1.5em;
                top: 15px;
            }
            
            .name-title {
                font-size: 1.4em;
                top: 45px;
            }
            
            .subtitle {
                font-size: 0.8em;
                top: 80px;
            }
            
            .instructions {
                font-size: 0.7em;
                bottom: 15px;
            }
            
            .controls {
                transform: scale(0.8);
                top: 5px;
                right: 5px;
                padding: 10px;
                max-width: 140px;
            }
            
            .control-group label {
                font-size: 10px;
            }
            
            .control-group select {
                font-size: 10px;
                padding: 5px 6px;
            }
            
            .stats {
                font-size: 9px;
            }
            
            .music-btn {
                padding: 10px;
                font-size: 1em;
                bottom: 15px;
                right: 15px;
            }
            
            /* åœ¨å°å±å¹•ä¸Šéšè—æ§åˆ¶é¢æ¿ï¼Œæ˜¾ç¤ºåˆ‡æ¢æŒ‰é’® */
            .controls {
                opacity: 0;
                pointer-events: none;
                transform: translateX(100%);
            }
            
            .controls.active {
                opacity: 1;
                pointer-events: all;
                transform: translateX(0) scale(0.8);
            }
            
            .controls-toggle {
                display: block;
            }
        }
        
        /* ç‰¹æ®Šçˆ±å¿ƒæ•ˆæœ */
        .sparkle-heart::before,
        .sparkle-heart::after {
            background: linear-gradient(45deg, var(--color), #ffffff);
        }
        
        .gradient-heart::before,
        .gradient-heart::after {
            background: linear-gradient(135deg, var(--color1), var(--color2));
        }
    </style>
</head>
<body>
    <div class="title">ğŸ’– æµªæ¼«çˆ±å¿ƒåŠ¨ç”» ğŸ’–</div>
    <div class="name-title">â¤ï¸ çŒ®ç»™æœ€çˆ±çš„è‚æ¢¦é›¯ â¤ï¸</div>
    <div class="subtitle">ç‚¹å‡»ä»»æ„ä½ç½®åˆ›å»ºç¾ä¸½çš„çˆ±å¿ƒåŠ¨ç”»</div>
    
    <button class="controls-toggle" onclick="toggleControls()">âš™ï¸ è®¾ç½®</button>
    
    <div class="controls" id="controlsPanel">
        <div class="control-group">
            <label>çˆ±å¿ƒå¤§å°: <span id="sizeValue">40px</span></label>
            <input type="range" id="sizeSlider" min="20" max="100" value="40">
        </div>
        <div class="control-group">
            <label>åŠ¨ç”»æ—¶é•¿: <span id="durationValue">3s</span></label>
            <input type="range" id="durationSlider" min="1" max="10" value="3" step="0.5">
        </div>
        <div class="control-group">
            <label>çˆ±å¿ƒç±»å‹:</label>
            <select id="heartType">
                <option value="random">éšæœºé¢œè‰²</option>
                <option value="red">çº¢è‰²ç³»</option>
                <option value="pink">ç²‰è‰²ç³»</option>
                <option value="rainbow">å½©è™¹è‰²</option>
                <option value="gradient">æ¸å˜çˆ±å¿ƒ</option>
            </select>
        </div>
        <div class="control-group">
            <label>åŠ¨ç”»æ•ˆæœ:</label>
            <select id="animationType">
                <option value="float">æ¼‚æµ®ä¸Šå‡</option>
                <option value="burst">çˆ†å‘æ‰©æ•£</option>
                <option value="spiral">èºæ—‹ä¸Šå‡</option>
            </select>
        </div>
        <div class="stats">
            å·²åˆ›å»º: <span id="heartCount">0</span> ä¸ªçˆ±å¿ƒ
        </div>
    </div>
    
    <!-- éŸ³ä¹æ’­æ”¾å™¨ - ä½¿ç”¨ä½ çš„æ­Œæ›² -->
    <div class="music-player">
        <button class="music-btn" onclick="toggleMusic()">ğŸµ</button>
        <audio id="bgMusic" loop>
            <!-- ä½ çš„ç½‘æ˜“äº‘æ­Œæ›²é“¾æ¥ -->
            <source src="https://music.163.com/song/media/outer/url?id=1391425499.mp3" type="audio/mpeg">
            <!-- å¤‡ç”¨é“¾æ¥ -->
            <source src="http://music.163.com/song/media/outer/url?id=1391425499.mp3" type="audio/mpeg">
        </audio>
    </div>
    
    <div class="instructions">ç‚¹å‡»é¡µé¢ä»»æ„ä½ç½®åˆ›å»ºçˆ±å¿ƒ | ç‚¹å‡»ğŸµæ’­æ”¾éŸ³ä¹</div>

    <script>
        let heartCount = 0;
        let currentSize = 40;
        let currentDuration = 3;
        let currentHeartType = 'random';
        let currentAnimation = 'float';
        let isMusicPlaying = false;
        
        // çˆ±çš„è¯è¯­åˆ—è¡¨
        const loveMessages = [
            "ğŸ’– è‚æ¢¦é›¯ï¼Œä½ æ˜¯æˆ‘çš„å…¨ä¸–ç•Œ ğŸ’–",
            "ğŸŒŸ æœ€å¯çˆ±æ¼‚äº®çš„å…¬ä¸»æ®¿ä¸‹ ğŸŒŸ",
            "ğŸ˜ çˆ±ä½ ä¸€ä¸‡å¹´ï¼Œæˆ‘çš„å®è´ ğŸ˜",
            "ğŸ’• ä½ æ˜¯æˆ‘å¿ƒä¸­æœ€ç¾çš„é£æ™¯ ğŸ’•",
            "ğŸ€ æœ€è¿·äººçº¯å‡€çš„åª³å¦‡å„¿ ğŸ€",
            "âœ¨ é‡è§ä½ æ˜¯æˆ‘æœ€å¤§çš„å¹¸è¿ âœ¨",
            "ğŸŒ¹ ä½ æ˜¯æˆ‘æ°¸è¿œçš„å…¬ä¸» ğŸŒ¹",
            "ğŸ’ æ¯ä¸€å¤©éƒ½æ›´çˆ±ä½ ä¸€äº› ğŸ’",
            "ğŸ‰ ä½ è®©æˆ‘çš„ä¸–ç•Œå……æ»¡è‰²å½© ğŸ‰",
            "ğŸ’« æ°¸è¿œçˆ±ä½ çš„å°å¯çˆ± ğŸ’«",
            "ğŸŒ¸ ä½ æ˜¯æˆ‘æœ€ç¾çš„æ¢¦ ğŸŒ¸",
            "ğŸ’ æˆ‘çš„å¿ƒåªä¸ºä½ è·³åŠ¨ ğŸ’",
            "ğŸµ çˆ±ä½ åˆ°å¤©è’åœ°è€ ğŸµ",
            "ğŸ’— ä½ æ˜¯æˆ‘ç”Ÿå‘½ä¸­çš„å…‰ ğŸ’—",
            "ğŸŒº æœ€æ¸©æŸ”å¯çˆ±çš„å®è´ ğŸŒº",
            "ğŸ’˜ æ°¸è¿œå®ˆæŠ¤ä½ ï¼Œæˆ‘çš„çˆ±äºº ğŸ’˜",
            "ğŸˆ ä½ æ˜¯æˆ‘çš„ä¸€åˆ‡ ğŸˆ",
            "ğŸ’“ çˆ±ä½ èƒœè¿‡çˆ±è‡ªå·± ğŸ’“"
        ];
        
        // é¢œè‰²é…ç½®
        const colorSchemes = {
            random: ['#ff6b6b', '#ff9ff3', '#f368e0', '#ff9f43', '#54a0ff', '#5f27cd', '#00d2d3'],
            red: ['#ff6b6b', '#ff4757', '#ff3838', '#ff4d4d', '#ff6b8b'],
            pink: ['#ff9ff3', '#f368e0', '#ff6b9d', '#ff85a1', '#ff6b8b'],
            rainbow: ['#ff6b6b', '#ff9f43', '#feca57', '#48dbfb', '#54a0ff', '#5f27cd', '#00d2d3'],
            gradient: ['#ff6b6b-#ff9f43', '#ff9ff3-#ff6b9d', '#54a0ff-#48dbfb', '#f368e0-#5f27cd']
        };
        
        // åˆå§‹åŒ–æ§åˆ¶é¢æ¿
        document.getElementById('sizeSlider').addEventListener('input', function(e) {
            currentSize = parseInt(e.target.value);
            document.getElementById('sizeValue').textContent = currentSize + 'px';
        });
        
        document.getElementById('durationSlider').addEventListener('input', function(e) {
            currentDuration = parseFloat(e.target.value);
            document.getElementById('durationValue').textContent = currentDuration + 's';
        });
        
        document.getElementById('heartType').addEventListener('change', function(e) {
            currentHeartType = e.target.value;
        });
        
        document.getElementById('animationType').addEventListener('change', function(e) {
            currentAnimation = e.target.value;
        });
        
        // åˆ‡æ¢æ§åˆ¶é¢æ¿æ˜¾ç¤º
        function toggleControls() {
            const controls = document.getElementById('controlsPanel');
            controls.classList.toggle('active');
        }
        
        // åˆ›å»ºçˆ±çš„è¯è¯­
        function createLoveMessage(x, y) {
            if (Math.random() > 0.3) return; // 70%çš„å‡ ç‡ä¸åˆ›å»ºæ–‡å­—
            
            const message = document.createElement('div');
            message.className = 'love-message';
            message.textContent = loveMessages[Math.floor(Math.random() * loveMessages.length)];
            
            message.style.left = (x - 100) + 'px';
            message.style.top = y + 'px';
            
            document.body.appendChild(message);
            
            // åŠ¨ç”»ç»“æŸåç§»é™¤
            setTimeout(() => {
                if (message.parentNode) {
                    message.parentNode.removeChild(message);
                }
            }, 8000);
        }
        
        // éŸ³ä¹æ§åˆ¶
        function toggleMusic() {
            const music = document.getElementById('bgMusic');
            const btn = document.querySelector('.music-btn');
            
            if (isMusicPlaying) {
                music.pause();
                btn.classList.remove('playing');
                isMusicPlaying = false;
            } else {
                const playPromise = music.play();
                
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        btn.classList.add('playing');
                        isMusicPlaying = true;
                    }).catch(error => {
                        console.log('éŸ³ä¹æ’­æ”¾å¤±è´¥:', error);
                        // å°è¯•åˆ‡æ¢é“¾æ¥
                        switchMusicSource();
                    });
                }
            }
        }
        
        // åˆ‡æ¢éŸ³ä¹æº
        function switchMusicSource() {
            const music = document.getElementById('bgMusic');
            const sources = music.querySelectorAll('source');
            let currentSource = 0;
            
            // æ‰¾åˆ°å½“å‰æº
            for (let i = 0; i < sources.length; i++) {
                if (music.src.includes(sources[i].src)) {
                    currentSource = i;
                    break;
                }
            }
            
            // åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæº
            const nextSource = (currentSource + 1) % sources.length;
            music.src = sources[nextSource].src;
            music.load();
            
            console.log('åˆ‡æ¢åˆ°å¤‡ç”¨éŸ³ä¹æº');
            
            // å°è¯•æ’­æ”¾æ–°æº
            setTimeout(() => {
                music.play().then(() => {
                    document.querySelector('.music-btn').classList.add('playing');
                    isMusicPlaying = true;
                }).catch(e => {
                    console.log('å¤‡ç”¨éŸ³ä¹æºä¹Ÿå¤±è´¥');
                    alert('éŸ³ä¹åŠ è½½å¤±è´¥ï¼Œå¯èƒ½æ˜¯ç‰ˆæƒé™åˆ¶ï¼Œä½†çˆ±å¿ƒåŠ¨ç”»ä¾ç„¶ç¾ä¸½ï¼ğŸ’•');
                });
            }, 500);
        }
        
        // åˆ›å»ºèƒŒæ™¯è£…é¥°çˆ±å¿ƒ
        function createBackgroundHearts() {
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    createBackgroundHeart();
                }, i * 300);
            }
        }
        
        function createBackgroundHeart() {
            const heart = document.createElement('div');
            heart.className = 'heart bg-heart';
            
            const size = Math.random() * 30 + 20;
            const colors = ['#ff6b6b', '#ff9ff3', '#f368e0'];
            const color = colors[Math.floor(Math.random() * colors.length)];
            
            heart.style.setProperty('--size', size + 'px');
            heart.style.setProperty('--color', color);
            
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = (Math.random() * 10 + 15) + 's';
            heart.style.animationDelay = Math.random() * 5 + 's';
            
            document.body.appendChild(heart);
            
            setTimeout(() => {
                if (heart.parentNode) {
                    heart.parentNode.removeChild(heart);
                }
            }, 25000);
        }
        
        // åˆ›å»ºç‚¹å‡»çˆ±å¿ƒ
        function createHeart(x, y) {
            const heart = document.createElement('div');
            heart.className = 'heart';
            
            // è®¾ç½®å¤§å°
            heart.style.setProperty('--size', currentSize + 'px');
            
            // è®¾ç½®é¢œè‰²
            const colors = colorSchemes[currentHeartType];
            let color = colors[Math.floor(Math.random() * colors.length)];
            
            if (currentHeartType === 'gradient') {
                // å¤„ç†æ¸å˜é¢œè‰²
                const [color1, color2] = color.split('-');
                heart.style.setProperty('--color1', color1);
                heart.style.setProperty('--color2', color2);
                heart.classList.add('gradient-heart');
            } else {
                heart.style.setProperty('--color', color);
                
                // éšæœºæ·»åŠ é—ªå…‰æ•ˆæœ
                if (Math.random() > 0.7) {
                    heart.classList.add('sparkle-heart');
                }
            }
            
            // è®¾ç½®ä½ç½®
            heart.style.left = (x - currentSize / 2) + 'px';
            heart.style.top = (y - currentSize / 2) + 'px';
            
            // è®¾ç½®åŠ¨ç”»
            let animationName = 'float';
            let animationProperties = '';
            
            switch(currentAnimation) {
                case 'burst':
                    animationName = 'burst';
                    const burstX = (Math.random() * 200 - 100) + 'px';
                    const burstY = (Math.random() * 200 - 100) + 'px';
                    heart.style.setProperty('--burst-x', burstX);
                    heart.style.setProperty('--burst-y', burstY);
                    break;
                case 'spiral':
                    animationName = 'spiral';
                    const spiralX = (Math.random() * 100 - 50) + 'px';
                    heart.style.setProperty('--spiral-x', spiralX);
                    break;
                default:
                    animationName = 'float';
            }
            
            heart.style.animation = `${animationName} ${currentDuration}s ease-out forwards`;
            
            document.body.appendChild(heart);
            heartCount++;
            document.getElementById('heartCount').textContent = heartCount;
            
            // åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
            setTimeout(() => {
                if (heart.parentNode) {
                    heart.parentNode.removeChild(heart);
                }
            }, currentDuration * 1000);
        }
        
        // æ·»åŠ ç‚¹å‡»äº‹ä»¶
        document.addEventListener('click', function(e) {
            createHeart(e.clientX, e.clientY);
            createLoveMessage(e.clientX, e.clientY);
            
            // åˆ›å»ºå¤šä¸ªçˆ±å¿ƒå½¢æˆç°‡æ‹¥æ•ˆæœ
            const heartCount = Math.floor(Math.random() * 4) + 2;
            for (let i = 0; i < heartCount; i++) {
                setTimeout(() => {
                    const offsetX = (Math.random() - 0.5) * 80;
                    const offsetY = (Math.random() - 0.5) * 80;
                    createHeart(e.clientX + offsetX, e.clientY + offsetY);
                }, i * 80);
            }
        });
        
        // æ·»åŠ è§¦æ‘¸äº‹ä»¶ï¼ˆç§»åŠ¨ç«¯ï¼‰
        document.addEventListener('touchstart', function(e) {
            e.preventDefault();
            const touch = e.touches[0];
            createHeart(touch.clientX, touch.clientY);
            createLoveMessage(touch.clientX, touch.clientY);
            
            const heartCount = Math.floor(Math.random() * 3) + 1;
            for (let i = 0; i < heartCount; i++) {
                setTimeout(() => {
                    const offsetX = (Math.random() - 0.5) * 60;
                    const offsetY = (Math.random() - 0.5) * 60;
                    createHeart(touch.clientX + offsetX, touch.clientY + offsetY);
                }, i * 60);
            }
        }, { passive: false });
        
        // åˆå§‹åŒ–
        window.onload = function() {
            createBackgroundHearts();
            setInterval(createBackgroundHeart, 1500);
            
            // åˆå§‹åˆ›å»ºä¸€äº›çˆ±å¿ƒå’Œæ–‡å­—
            setTimeout(() => {
                for (let i = 0; i < 8; i++) {
                    setTimeout(() => {
                        const x = Math.random() * window.innerWidth;
                        const y = Math.random() * window.innerHeight;
                        createHeart(x, y);
                        if (i % 2 === 0) {
                            createLoveMessage(x, y);
                        }
                    }, i * 300);
                }
            }, 1000);
            
            // é¢„åŠ è½½éŸ³ä¹
            const music = document.getElementById('bgMusic');
            music.load();
        };
    </script>
</body>
</html>
